Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 24
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	agregate_count
	1	all
	2	assemble
	2	count_reads
	1	cp_read_counts
	2	detect_rRNA
	4	fastqc
	2	filter_16S_having_reads
	2	filter_primer_sequence_having_reads
	2	generate_script_for_merging_files
	2	get_fastq1
	2	get_fastq2
	1	multiqc_pro
	2	subsample
	2	trim_adapters
	28

[Tue Aug  6 11:42:28 2019]
rule generate_script_for_merging_files:
    input: dependencies/slimfastq/slimfastq
    output: tmp_coli/V8-E-coli_S13R1_input_list.sh, tmp_coli/V8-E-coli_S13R2_input_list.sh
    jobid: 24
    wildcards: stem=V8-E-coli_S13

[Tue Aug  6 11:42:28 2019]
rule generate_script_for_merging_files:
    input: dependencies/slimfastq/slimfastq
    output: tmp_coli/ODN-E-coli-1_S1R1_input_list.sh, tmp_coli/ODN-E-coli-1_S1R2_input_list.sh
    jobid: 27
    wildcards: stem=ODN-E-coli-1_S1

[Tue Aug  6 11:42:29 2019]
Finished job 27.
1 of 28 steps (4%) done
[Tue Aug  6 11:42:29 2019]
Finished job 24.
2 of 28 steps (7%) done

[Tue Aug  6 11:42:29 2019]
rule get_fastq1:
    input: tmp_coli/ODN-E-coli-1_S1R1_input_list.sh
    output: tmp_coli/ODN-E-coli-1_S1_R1_001.fastq.gz
    jobid: 22
    wildcards: stem=ODN-E-coli-1_S1


[Tue Aug  6 11:42:29 2019]
rule get_fastq2:
    input: tmp_coli/ODN-E-coli-1_S1R2_input_list.sh
    output: tmp_coli/ODN-E-coli-1_S1_R2_001.fastq.gz
    jobid: 23
    wildcards: stem=ODN-E-coli-1_S1


[Tue Aug  6 11:42:29 2019]
rule get_fastq1:
    input: tmp_coli/V8-E-coli_S13R1_input_list.sh
    output: tmp_coli/V8-E-coli_S13_R1_001.fastq.gz
    jobid: 19
    wildcards: stem=V8-E-coli_S13


[Tue Aug  6 11:42:29 2019]
rule get_fastq2:
    input: tmp_coli/V8-E-coli_S13R2_input_list.sh
    output: tmp_coli/V8-E-coli_S13_R2_001.fastq.gz
    jobid: 20
    wildcards: stem=V8-E-coli_S13

[Tue Aug  6 11:42:48 2019]
Finished job 19.
3 of 28 steps (11%) done
[Tue Aug  6 11:42:49 2019]
Finished job 20.
4 of 28 steps (14%) done

[Tue Aug  6 11:42:49 2019]
rule trim_adapters:
    input: tmp_coli/V8-E-coli_S13_R1_001.fastq.gz, tmp_coli/V8-E-coli_S13_R2_001.fastq.gz
    output: output_coli/LOGS/BBDUK/V8-E-coli_S13_contamination.log, tmp_coli/V8-E-coli_S13_R1_001Trimmed.fastq.gz, tmp_coli/V8-E-coli_S13_R2_001Trimmed.fastq.gz
    log: output_coli/LOGS/BBDUK/trimming_V8-E-coli_S13.log
    jobid: 16
    benchmark: benchmarks/trimming_V8-E-coli_S13.log
    wildcards: stem=V8-E-coli_S13
    threads: 8

[Tue Aug  6 11:42:59 2019]
Finished job 16.
5 of 28 steps (18%) done

[Tue Aug  6 11:42:59 2019]
rule fastqc:
    input: tmp_coli/V8-E-coli_S13_R1_001Trimmed.fastq.gz
    output: output_coli/fastqc_report_htmls_zips/V8-E-coli_S13_R1_001Trimmed_fastqc.zip, output_coli/fastqc_report_htmls_zips/V8-E-coli_S13_R1_001Trimmed_fastqc.html
    log: output_coli/LOGS/FASTQC/V8-E-coli_S13_R1_001Trimmed.log
    jobid: 13
    benchmark: benchmarks/fastqc_V8-E-coli_S13_R1_001Trimmed.log
    wildcards: stem=V8-E-coli_S13_R1_001Trimmed


[Tue Aug  6 11:42:59 2019]
rule fastqc:
    input: tmp_coli/V8-E-coli_S13_R2_001Trimmed.fastq.gz
    output: output_coli/fastqc_report_htmls_zips/V8-E-coli_S13_R2_001Trimmed_fastqc.zip, output_coli/fastqc_report_htmls_zips/V8-E-coli_S13_R2_001Trimmed_fastqc.html
    log: output_coli/LOGS/FASTQC/V8-E-coli_S13_R2_001Trimmed.log
    jobid: 11
    benchmark: benchmarks/fastqc_V8-E-coli_S13_R2_001Trimmed.log
    wildcards: stem=V8-E-coli_S13_R2_001Trimmed


[Tue Aug  6 11:42:59 2019]
rule count_reads:
    input: tmp_coli/V8-E-coli_S13_R1_001.fastq.gz, tmp_coli/V8-E-coli_S13_R1_001Trimmed.fastq.gz
    output: tmp_coli/V8-E-coli_S13_read_counts.txt
    jobid: 26
    benchmark: benchmarks/V8-E-coli_S13_count_reads.log
    wildcards: stem=V8-E-coli_S13

[Tue Aug  6 11:43:04 2019]
Finished job 22.
6 of 28 steps (21%) done
[Tue Aug  6 11:43:04 2019]
Finished job 26.
7 of 28 steps (25%) done
[Tue Aug  6 11:43:06 2019]
Finished job 23.
8 of 28 steps (29%) done

[Tue Aug  6 11:43:06 2019]
rule trim_adapters:
    input: tmp_coli/ODN-E-coli-1_S1_R1_001.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001.fastq.gz
    output: output_coli/LOGS/BBDUK/ODN-E-coli-1_S1_contamination.log, tmp_coli/ODN-E-coli-1_S1_R1_001Trimmed.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001Trimmed.fastq.gz
    log: output_coli/LOGS/BBDUK/trimming_ODN-E-coli-1_S1.log
    jobid: 18
    benchmark: benchmarks/trimming_ODN-E-coli-1_S1.log
    wildcards: stem=ODN-E-coli-1_S1
    threads: 8

[Tue Aug  6 11:43:15 2019]
Finished job 18.
9 of 28 steps (32%) done

[Tue Aug  6 11:43:15 2019]
rule fastqc:
    input: tmp_coli/ODN-E-coli-1_S1_R1_001Trimmed.fastq.gz
    output: output_coli/fastqc_report_htmls_zips/ODN-E-coli-1_S1_R1_001Trimmed_fastqc.zip, output_coli/fastqc_report_htmls_zips/ODN-E-coli-1_S1_R1_001Trimmed_fastqc.html
    log: output_coli/LOGS/FASTQC/ODN-E-coli-1_S1_R1_001Trimmed.log
    jobid: 14
    benchmark: benchmarks/fastqc_ODN-E-coli-1_S1_R1_001Trimmed.log
    wildcards: stem=ODN-E-coli-1_S1_R1_001Trimmed


[Tue Aug  6 11:43:16 2019]
rule count_reads:
    input: tmp_coli/ODN-E-coli-1_S1_R1_001.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R1_001Trimmed.fastq.gz
    output: tmp_coli/ODN-E-coli-1_S1_read_counts.txt
    jobid: 25
    benchmark: benchmarks/ODN-E-coli-1_S1_count_reads.log
    wildcards: stem=ODN-E-coli-1_S1


[Tue Aug  6 11:43:16 2019]
rule fastqc:
    input: tmp_coli/ODN-E-coli-1_S1_R2_001Trimmed.fastq.gz
    output: output_coli/fastqc_report_htmls_zips/ODN-E-coli-1_S1_R2_001Trimmed_fastqc.zip, output_coli/fastqc_report_htmls_zips/ODN-E-coli-1_S1_R2_001Trimmed_fastqc.html
    log: output_coli/LOGS/FASTQC/ODN-E-coli-1_S1_R2_001Trimmed.log
    jobid: 12
    benchmark: benchmarks/fastqc_ODN-E-coli-1_S1_R2_001Trimmed.log
    wildcards: stem=ODN-E-coli-1_S1_R2_001Trimmed

[Tue Aug  6 11:43:18 2019]
Finished job 11.
10 of 28 steps (36%) done
[Tue Aug  6 11:43:18 2019]
Finished job 13.
11 of 28 steps (39%) done
[Tue Aug  6 11:43:22 2019]
Finished job 25.
12 of 28 steps (43%) done

[Tue Aug  6 11:43:22 2019]
rule agregate_count:
    input: tmp_coli/ODN-E-coli-1_S1_read_counts.txt, tmp_coli/V8-E-coli_S13_read_counts.txt
    output: tmp_coli/read_counts.txt
    jobid: 21

[Tue Aug  6 11:43:22 2019]
Finished job 21.
13 of 28 steps (46%) done

[Tue Aug  6 11:43:22 2019]
rule cp_read_counts:
    input: tmp_coli/read_counts.txt
    output: output_coli/read_counts.txt
    jobid: 17

[Tue Aug  6 11:43:22 2019]
Finished job 17.
14 of 28 steps (50%) done

[Tue Aug  6 11:43:22 2019]
rule subsample:
    input: tmp_coli/V8-E-coli_S13_R1_001Trimmed.fastq.gz, tmp_coli/V8-E-coli_S13_R2_001Trimmed.fastq.gz, output_coli/read_counts.txt
    output: tmp_coli/V8-E-coli_S13_R1_001subs.fastq.gz, tmp_coli/V8-E-coli_S13_R2_001subs.fastq.gz
    log: output_coli/LOGS/SEQTK/R1/V8-E-coli_S13.log, output_coli/LOGS/SEQTK/R2/V8-E-coli_S13.log
    jobid: 10
    benchmark: benchmarks/V8-E-coli_S13_subsampling.log
    wildcards: stem=V8-E-coli_S13
    threads: 4


[Tue Aug  6 11:43:23 2019]
rule subsample:
    input: tmp_coli/ODN-E-coli-1_S1_R1_001Trimmed.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001Trimmed.fastq.gz, output_coli/read_counts.txt
    output: tmp_coli/ODN-E-coli-1_S1_R1_001subs.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001subs.fastq.gz
    log: output_coli/LOGS/SEQTK/R1/ODN-E-coli-1_S1.log, output_coli/LOGS/SEQTK/R2/ODN-E-coli-1_S1.log
    jobid: 15
    benchmark: benchmarks/ODN-E-coli-1_S1_subsampling.log
    wildcards: stem=ODN-E-coli-1_S1
    threads: 4

[Tue Aug  6 11:43:35 2019]
Finished job 12.
15 of 28 steps (54%) done
Removing temporary output file tmp_coli/V8-E-coli_S13_R1_001Trimmed.fastq.gz.
Removing temporary output file tmp_coli/V8-E-coli_S13_R2_001Trimmed.fastq.gz.
[Tue Aug  6 11:43:39 2019]
Finished job 10.
16 of 28 steps (57%) done

[Tue Aug  6 11:43:39 2019]
rule filter_primer_sequence_having_reads:
    input: tmp_coli/V8-E-coli_S13_R1_001subs.fastq.gz, tmp_coli/V8-E-coli_S13_R2_001subs.fastq.gz
    output: output_coli/LOGS/BBDUK/V8-E-coli_S13_filteringbasedonR1.log, tmp_coli/V8-E-coli_S13_R1_001filtered.fastq.gz, tmp_coli/V8-E-coli_S13_R2_001filtered.fastq.gz
    log: output_coli/LOGS/filteringR1_V8-E-coli_S13.log
    jobid: 4
    benchmark: benchmarks/filteringR1_V8-E-coli_S13.log
    wildcards: stem=V8-E-coli_S13
    threads: 8


[Tue Aug  6 11:43:39 2019]
rule filter_16S_having_reads:
    input: tmp_coli/V8-E-coli_S13_R1_001subs.fastq.gz, tmp_coli/V8-E-coli_S13_R2_001subs.fastq.gz
    output: output_coli/LOGS/BBDUK/V8-E-coli_S13_filtering16s.log, tmp_coli/V8-E-coli_S13_R1_001filtered16s.fastq.gz, tmp_coli/V8-E-coli_S13_R2_001filtered16s.fastq.gz
    log: output_coli/LOGS/filtering16s_V8-E-coli_S13.log
    jobid: 8
    benchmark: benchmarks/filtering16s_V8-E-coli_S13.log
    wildcards: stem=V8-E-coli_S13
    threads: 8

[Tue Aug  6 11:43:41 2019]
Finished job 14.
17 of 28 steps (61%) done

[Tue Aug  6 11:43:41 2019]
rule multiqc_pro:
    input: output_coli/fastqc_report_htmls_zips/ODN-E-coli-1_S1_R1_001Trimmed_fastqc.zip, output_coli/fastqc_report_htmls_zips/ODN-E-coli-1_S1_R2_001Trimmed_fastqc.zip, output_coli/fastqc_report_htmls_zips/V8-E-coli_S13_R1_001Trimmed_fastqc.zip, output_coli/fastqc_report_htmls_zips/V8-E-coli_S13_R2_001Trimmed_fastqc.zip
    output: output_coli/MULTIQC/fastqc_report_trimmed_reads.html, output_coli/MULTIQC/fastqc_report_trimmed_reads_data
    jobid: 5
    benchmark: benchmarks/multi_qc.log

Removing temporary output file tmp_coli/V8-E-coli_S13_R2_001filtered.fastq.gz.
[Tue Aug  6 11:43:46 2019]
Finished job 4.
18 of 28 steps (64%) done
Removing temporary output file tmp_coli/ODN-E-coli-1_S1_R2_001Trimmed.fastq.gz.
Removing temporary output file tmp_coli/ODN-E-coli-1_S1_R1_001Trimmed.fastq.gz.
[Tue Aug  6 11:43:48 2019]
Finished job 15.
19 of 28 steps (68%) done

[Tue Aug  6 11:43:48 2019]
rule filter_primer_sequence_having_reads:
    input: tmp_coli/ODN-E-coli-1_S1_R1_001subs.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001subs.fastq.gz
    output: output_coli/LOGS/BBDUK/ODN-E-coli-1_S1_filteringbasedonR1.log, tmp_coli/ODN-E-coli-1_S1_R1_001filtered.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001filtered.fastq.gz
    log: output_coli/LOGS/filteringR1_ODN-E-coli-1_S1.log
    jobid: 7
    benchmark: benchmarks/filteringR1_ODN-E-coli-1_S1.log
    wildcards: stem=ODN-E-coli-1_S1
    threads: 8

Removing temporary output file tmp_coli/ODN-E-coli-1_S1_R2_001filtered.fastq.gz.
[Tue Aug  6 11:43:55 2019]
Finished job 7.
20 of 28 steps (71%) done

[Tue Aug  6 11:43:55 2019]
rule filter_16S_having_reads:
    input: tmp_coli/ODN-E-coli-1_S1_R1_001subs.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001subs.fastq.gz
    output: output_coli/LOGS/BBDUK/ODN-E-coli-1_S1_filtering16s.log, tmp_coli/ODN-E-coli-1_S1_R1_001filtered16s.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001filtered16s.fastq.gz
    log: output_coli/LOGS/filtering16s_ODN-E-coli-1_S1.log
    jobid: 9
    benchmark: benchmarks/filtering16s_ODN-E-coli-1_S1.log
    wildcards: stem=ODN-E-coli-1_S1
    threads: 8

[Tue Aug  6 11:44:00 2019]
Finished job 5.
21 of 28 steps (75%) done
Terminating processes on user request, this might take some time.
    [Tue Aug  6 11:44:40 2019]
    Error in rule filter_16S_having_reads:
        jobid: 8
        output: output_coli/LOGS/BBDUK/V8-E-coli_S13_filtering16s.log, tmp_coli/V8-E-coli_S13_R1_001filtered16s.fastq.gz, tmp_coli/V8-E-coli_S13_R2_001filtered16s.fastq.gz
        log: output_coli/LOGS/filtering16s_V8-E-coli_S13.log

RuleException:
CalledProcessError in line 79 of /media/root/ocean/projects/ga/bracken_ribo_count/snakefiles/4_0_assembly.smk:
Command ' set -euo pipefail;  bbduk.sh in=tmp_coli/V8-E-coli_S13_R1_001subs.fastq.gz outm=tmp_coli/V8-E-coli_S13_R1_001filtered16s.fastq.gz in2=tmp_coli/V8-E-coli_S13_R2_001subs.fastq.gz outm2=tmp_coli/V8-E-coli_S13_R2_001filtered16s.fastq.gz ref=/media/root/ocean/Databases/SILVA/SILVA_132_SSURef_Nr99_tax_silva.fasta threads=8 stats=output_coli/LOGS/BBDUK/V8-E-coli_S13_filtering16s.log overwrite=t -Xmx4g 2> output_coli/LOGS/filtering16s_V8-E-coli_S13.log ' returned non-zero exit status 130.
  File "/media/root/ocean/projects/ga/bracken_ribo_count/snakefiles/4_0_assembly.smk", line 79, in __rule_filter_16S_having_reads
  File "/media/root/ocean/shared/bin/miniconda/envs/brc/lib/python3.6/concurrent/futures/thread.py", line 56, in run
    [Tue Aug  6 11:44:41 2019]
    Error in rule filter_16S_having_reads:
        jobid: 9
        output: output_coli/LOGS/BBDUK/ODN-E-coli-1_S1_filtering16s.log, tmp_coli/ODN-E-coli-1_S1_R1_001filtered16s.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001filtered16s.fastq.gz
        log: output_coli/LOGS/filtering16s_ODN-E-coli-1_S1.log

RuleException:
CalledProcessError in line 79 of /media/root/ocean/projects/ga/bracken_ribo_count/snakefiles/4_0_assembly.smk:
Command ' set -euo pipefail;  bbduk.sh in=tmp_coli/ODN-E-coli-1_S1_R1_001subs.fastq.gz outm=tmp_coli/ODN-E-coli-1_S1_R1_001filtered16s.fastq.gz in2=tmp_coli/ODN-E-coli-1_S1_R2_001subs.fastq.gz outm2=tmp_coli/ODN-E-coli-1_S1_R2_001filtered16s.fastq.gz ref=/media/root/ocean/Databases/SILVA/SILVA_132_SSURef_Nr99_tax_silva.fasta threads=8 stats=output_coli/LOGS/BBDUK/ODN-E-coli-1_S1_filtering16s.log overwrite=t -Xmx4g 2> output_coli/LOGS/filtering16s_ODN-E-coli-1_S1.log ' returned non-zero exit status 130.
  File "/media/root/ocean/projects/ga/bracken_ribo_count/snakefiles/4_0_assembly.smk", line 79, in __rule_filter_16S_having_reads
  File "/media/root/ocean/shared/bin/miniconda/envs/brc/lib/python3.6/concurrent/futures/thread.py", line 56, in run
Complete log: /media/root/ocean/projects/ga/bracken_ribo_count/.snakemake/log/2019-08-06T114228.083900.snakemake.log
