Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 24
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	assemble
	1	custer
	1	detect_rRNA
	1	filter_size
	5

[Wed Aug  7 19:22:42 2019]
rule assemble:
    input: tmp_coli/ODN-E-coli-1_S1_R1_001filtered_repaired.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001filtered_repaired.fastq.gz
    output: tmp_coli/ODN-E-coli-1_S1_contigs.fasta, tmp_coli/ODN-E-coli-1_S1.fastg
    jobid: 10
    benchmark: bench_coli/assemble_ODN-E-coli-1_S1.log
    wildcards: stem=ODN-E-coli-1_S1
    threads: 12

rnaspades.py  -1 tmp_coli/ODN-E-coli-1_S1_R1_001filtered_repaired.fastq.gz -2 tmp_coli/ODN-E-coli-1_S1_R2_001filtered_repaired.fastq.gz -t 12 --only-assembler  -o tmp_coli/ODN-E-coli-1_S1_contigs --tmp-dir tmp_coli; cp tmp_coli/ODN-E-coli-1_S1_contigs/transcripts.fasta tmp_coli/ODN-E-coli-1_S1_contigs.fasta; cp tmp_coli/ODN-E-coli-1_S1_contigs/assembly_graph.fastg tmp_coli/ODN-E-coli-1_S1.fastg
[Wed Aug  7 19:25:35 2019]
Finished job 10.
1 of 5 steps (20%) done

[Wed Aug  7 19:25:35 2019]
rule filter_size:
    input: tmp_coli/ODN-E-coli-1_S1_contigs.fasta
    output: tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered.fasta
    jobid: 8
    wildcards: stem=ODN-E-coli-1_S1_contigs

seqkit seq -m 200 -M 12000000000 tmp_coli/ODN-E-coli-1_S1_contigs.fasta > tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered.fasta
[Wed Aug  7 19:25:35 2019]
Finished job 8.
2 of 5 steps (40%) done

[Wed Aug  7 19:25:35 2019]
rule custer:
    input: tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered.fasta
    output: tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered_clustered.fasta
    jobid: 6
    wildcards: stem=ODN-E-coli-1_S1_contigs_size_filtered
    threads: 12

cd-hit-est -T 12 -c 0.95 -i tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered.fasta -o tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered_clustered.fasta 
[Wed Aug  7 19:25:36 2019]
Finished job 6.
3 of 5 steps (60%) done

[Wed Aug  7 19:25:36 2019]
rule detect_rRNA:
    input: tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered_clustered.fasta
    output: tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered_clustered_rRNA.gtf
    log: tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered_clustered_contigs_rRNA.log
    jobid: 2
    wildcards: stem=ODN-E-coli-1_S1_contigs_size_filtered_clustered
    threads: 12

 barrnap --kingdom bac --reject 0.01  --threads 12 tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered_clustered.fasta | grep 16S  > tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered_clustered_rRNA.gtf 2> tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered_clustered_contigs_rRNA.log 
[Wed Aug  7 19:25:38 2019]
Finished job 2.
4 of 5 steps (80%) done

[Wed Aug  7 19:25:38 2019]
localrule all:
    input: tmp_coli/ODN-E-coli-1_S1_contigs_size_filtered_clustered_rRNA.gtf, tmp_coli/ODN-E-coli-1_S1_R1_001filtered_repaired.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R2_001filtered_wor1primer_retrim.fastq.gz, tmp_coli/ODN-E-coli-1_S1_R1_001filtered_withr1primer.fastq.gz
    jobid: 0

[Wed Aug  7 19:25:38 2019]
Finished job 0.
5 of 5 steps (100%) done
Complete log: /media/root/ocean/projects/ga/bracken_ribo_count/.snakemake/log/2019-08-07T192242.561900.snakemake.log
